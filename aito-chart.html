<link rel="import" href="bower_components/polymer/polymer.html">

<link rel="import" href="bower_components/google-chart/google-chart.html">

<dom-module id="aito-chart">
	<template>
		<google-chart type='area' data='{{array}}'>
		</google-chart>
		<div>---------------------------------------------------------------</div>

	</template>

</dom-module>

<script>

Polymer({

    is: 'aito-chart',

    ready: function() {
    	this.array = this.getArray();
    	this.setMyArray();
    	//console.log(this);
    	//console.log(this.execRegExp());

    },

    getArray: function() {

    	$.getJSON('get-aito.json', function(data){
    		return data.items[0].stats[1].history;
		});
		
    },

    execRegExp: function(prop){
    	var re = /..:..:../;
  		re = re.exec(prop);
  		return re[0];
	},

	setMyArray: function() {
		var myArray = [["Day", "Likes"]];
		var obj = this.array;
		var re = /..:..:../;

		for (var prop in obj) {
			var val = obj[prop];
  			prop = re.exec(prop);
			prop = prop[0];
			console.log(prop);
			var tempArray = [prop, val];
			myArray.push(tempArray);
		}

		this.array = myArray;
		console.log(this.array);
	}

});

</script>
